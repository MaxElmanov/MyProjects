crtmqm IBMESBQM1
crtmqm IBMESBQM2
crtmqm IBMESBQM3

strmqm IBMESBQM1
strmqm IBMESBQM2
strmqm IBMESBQM3

//' on IBMESBQM1'
define listener(IBMESBLISTENER1) trptype(tcp) port(1414) control(qmgr)
START LISTENER(IBMESBLISTENER1)

//' on IBMESBQM2'
define listener(IBMESBLISTENER2) trptype(tcp) port(1415) control(qmgr)
START LISTENER(IBMESBLISTENER2)

//' on IBMESBQM3
define listener(IBMESBLISTENER3) trptype(tcp) port(1416) control(qmgr)
START LISTENER(IBMESBLISTENER3)

//PERFORM IT FOR ALL FULL REPOSITORY QM (IBMESBQM1, IBMESBQM2)
ALTER QMGR REPOS (IBMESBCLUSTER)

//FOR IBMESBQM1
 DEFINE CHANNEL(TO.IBMESBQM1)   CHLTYPE(CLUSRCVR) trptype(tcp) CONNAME('localhost(1414)') CLUSTER('IBMESBCLUSTER')
 DEFINE channel('TO.IBMESBQM2') chltype(clussdr)  trptype(tcp) conname('localhost(1415)') cluster('IBMESBCLUSTER')

//FOR IBMESBQM2
 DEFINE CHANNEL(TO.IBMESBQM2) CHLTYPE(CLUSRCVR) TRPTYPE(TCP) CONNAME('localhost(1415)') cluster('IBMESBCLUSTER')
 DEFINE CHANNEL(TO.IBMESBQM1) CHLTYPE(CLUSSDR)  TRPTYPE(TCP) CONNAME('localhost(1414)') cluster('IBMESBCLUSTER')

//FOR IBMESBQM3
 DEFINE CHANNEL('TO.IBMESBQM3') CHLTYPE(CLUSRCVR) TRPTYPE(TCP) CONNAME('localhost(1416)') cluster(IBMESBCLUSTER)
 DEFINE CHANNEL('TO.IBMESBQM1') CHLTYPE(CLUSSDR)  TRPTYPE(TCP) CONNAME('localhost(1414)') cluster(IBMESBCLUSTER)
 
//DEFINE LOCAL QUEUE ON IBMESBQM1 AND IBMESBQM2
 DEFINE QLOCAL(IBM.ESB.IN) DEFBIND(NOTFIXED) CLWLUSEQ(ANY) CLUSTER(IBMESBCLUSTER)

//DEFINE ALIAS QUEUE ON IBMESBQM3
 DEFINE QALIAS(INPUT) TARGQ(IBM.ESB.IN)
//OR
 DEFINE QLOCAL(IBM.ESB.IN) DEFBIND(NOTFIXED) CLWLUSEQ(ANY) CLUSTER(IBMESBCLUSTER)